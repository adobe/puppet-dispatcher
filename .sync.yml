---
mock_with: ':rspec'
.gitlab-ci.yml:
  delete: true
appveyor.yml:
  delete: true
spec/spec_helper.rb:
  coverage_report: true
  minimum_code_coverage_percentage: 95
Rakefile:
  changelog_user: adobe
  extra_disabled_lint_checks:
    - '140chars'
  extras:
    - 'task :headers do'
    - "  require 'copyright_header' if Bundler.rubygems.find_name('copyright-header')"
    - '  args = {'
    - "    :license => 'ASL2',"
    - "    :copyright_software => 'Puppet Dispatcher Module',"
    - '    :copyright_software_description => "A module to manage AEM Dispatcher installations and configuration files.",'
    - "    :copyright_holders => ['Adobe Inc'],"
    - "    :copyright_years => ['2019'],"
    - "    :add_path => 'manifests:types:files:templates:spec',"
    - "    :output_dir => '.',"
    - "    :syntax => 'config/syntax.yml',"
    - '    :word_wrap => 200'
    - '  }'
    - '  command_line = CopyrightHeader::CommandLine.new( args )'
    - '  command_line.execute'
    - 'end'

Gemfile:
  required:
    ':development':
      - gem: copyright-header
        version: '~>1.0'
  optional:
    ':development':
      - gem: 'github_changelog_generator'
        version: '>=1.15'

.rubocop.yml:
  default_configs:
    AllCops:
      TargetRubyVersion: '2.4'
    Style/WordArray:
      EnforcedStyle: percent
    Layout/EmptyLinesAroundBlockBody:
      Enabled: false

.travis.yml:
  dist: xenial
  deploy_to_forge:
    enabled: true
    tag_regex: '^v\d'
  user: adobeinc
  secure: 'VPXzKLm2xwavEH7zOH1Iw1Lq1jczETbvlC+WZhafwpx18lLOVid5+g4pFjzC4bmli+AkM0LsHsj8VDx+JNGql9R1bp9d49v56ldI8TnpCKOHNlMntXDoQr4bs5KNLMWz1lwfjpIXFeDWBWZgYbKnqCbw9dlrAbk6/j3g1b7IIQ2ukB4cmXO5luqdwPhHVM/0uVYqGDz74W+v8JVow2ciPDjPEkJWB4u48T/cNd54W58+YHwTbRr/6g+1n3K2Xa2h3HtvzUFVdmkiyA7QrZoIylKRHqb0mUK2sRuIJw+9p3kOYF4nRmxIXHWecWp4PKSYzJfTDltJ9teDWaHo5WynbgIo7SJelUbMH1U6ss9ZV5A72pyanCfsOtyXKT5jx00/9akxLKsKtkF33PEi30hs1p1LupSvXGkUzTlI/EnDuevFMk1wojgvViCLG6tZTqebJtx+jOVXpyoPTciPjft/S7DZmS2DliwXQvQlKOh4JK5bwNfam+94eRBoyw/lI3520tkfM0cCG4lSKe5sB4qfMVdbrMJwuRe0WCl+U057VNxP71Ardff2MJwzM1QgzR66QttoCqBXQkjnfDdzS05SHcVvZhtXXLwCFjziFOCLIsaOSOxzR7P85RK99myxHau2tdGBwSQZ4MVqfFdeiK3OQ6/M29sjCdpgHtKsjRGxVcc='
  includes:
  - bundler_args:
    dist: xenial
    env: PLATFORMS=debian_puppet5
    rvm: 2.5.1
    before_script:
      - bundle exec rake 'litmus:provision_list[debian]'
      - bundle exec rake 'litmus:install_agent[puppet5]'
      - bundle exec rake litmus:install_module
    script:
      - bundle exec rake litmus:acceptance:parallel
    services: docker
    sudo: required
    stage: acceptance
  - bundler_args:
    dist: xenial
    env: PLATFORMS=debian_puppet6
    rvm: 2.5.1
    before_script:
      - bundle exec rake 'litmus:provision_list[debian]'
      - bundle exec rake 'litmus:install_agent[puppet6]'
      - bundle exec rake litmus:install_module
    script:
      - bundle exec rake litmus:acceptance:parallel
    services: docker
    sudo: required
    stage: acceptance
  - bundler_args:
    dist: xenial
    env: PLATFORMS=ubuntu_puppet5
    rvm: 2.5.1
    before_script:
      - bundle exec rake 'litmus:provision_list[ubuntu]'
      - bundle exec rake 'litmus:install_agent[puppet5]'
      - bundle exec rake litmus:install_module
    script:
      - bundle exec rake litmus:acceptance:parallel
    services: docker
    sudo: required
    stage: acceptance
  - bundler_args:
    dist: xenial
    env: PLATFORMS=ubuntu_puppet6
    rvm: 2.5.1
    before_script:
      - bundle exec rake 'litmus:provision_list[ubuntu]'
      - bundle exec rake 'litmus:install_agent[puppet6]'
      - bundle exec rake litmus:install_module
    script:
      - bundle exec rake litmus:acceptance:parallel
    services: docker
    sudo: required
    stage: acceptance
  - bundler_args:
    dist: xenial
    env: PLATFORMS=el_puppet5
    rvm: 2.5.1
    before_script:
      - bundle exec rake 'litmus:provision_list[el]'
      - bundle exec rake 'litmus:install_agent[puppet5]'
      - bundle exec rake litmus:install_module
    script:
      - bundle exec rake litmus:acceptance:parallel
    services: docker
    sudo: required
    stage: acceptance
  - bundler_args:
    dist: xenial
    env: PLATFORMS=el_puppet6
    rvm: 2.5.1
    before_script:
      - bundle exec rake 'litmus:provision_list[el]'
      - bundle exec rake 'litmus:install_agent[puppet6]'
      - bundle exec rake litmus:install_module
    script:
      - bundle exec rake litmus:acceptance:parallel
    services: docker
    sudo: required
    stage: acceptance
